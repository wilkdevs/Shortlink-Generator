<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">
        <title>index</title>
        <link rel="stylesheet" href="/app/html5/random-name-pickers/css/croppieEdit.css">
        <link rel="stylesheet" href="/app/css/indedx.css">

        <script src="/app/js/createjs.js?v=040625153045"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="/app/js/jquery.blockUI.js?v=040625153045"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
        <script src="/app/html5/random-name-pickers/js/jquery.fontselect.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/croppieEdit.js?v=2123373888"></script>
        <script src="/app/js/timerfix.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/pictureEditor.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/statsBoard.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/snippets.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/server.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/cache.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/menu.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/animations/banditMain.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/userlogo.js?v=040625153045"></script>
        <script src="/app/js/badwords.js"></script>
        <script src="/app/html5/random-name-pickers/js/index.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/js/main.js?v=040625153045"></script>

        <script>
            var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation, lib;
            var urlData = urlSettings();
            function init() {
                anim_container = document.getElementById("animation_container");
                dom_overlay_container = document.getElementById("dom_overlay_container");
                var comp = AdobeAn.getComposition("B6129D73AF66CA4FA43DE763728E8A0F");
                lib = comp.getLibrary();
                canvas = createHiPPICanvas(lib.properties.width, lib.properties.height);
                createjs.MotionGuidePlugin.install();
                var loader = new createjs.LoadQueue(false);
                loader.installPlugin(createjs.Sound);
                loader.addEventListener("fileload", function(evt) { handleFileLoad(evt, comp) });
                loader.addEventListener("complete", function(evt) { handleComplete(evt, comp) });
                loader.addEventListener("progress", function(evt) { handleProgress(evt, comp) });
                loader.addEventListener("error", function(evt) { handleError(evt, comp) });

                lib.properties.manifest.push({ id: 'ad', src: "/app/html5/random-name-pickers/animations/ad.js?v=040625153045" });
                urlData.animation = "bandit";
                lib.properties.manifest.push({ id: 'animation', src: "/app/html5/random-name-pickers/animations/" + urlData.animation + ".js?v=040625153045" });
                lib.properties.manifest = reCreateManifest(lib.properties.manifest);
                loadFinalManifest(function () {
                    loader.loadManifest(lib.properties.manifest);
                });
            }

            function handleError(evt, comp) {}

            function handleProgress(evt, comp) {
                $("#loader").html(Math.round(evt.progress * 100) + "% loaded");
            }

            function reCreateManifest(manifest) {
                var i;
                for (i = 0; i < manifest.length; i++) {
                    if (/.*?jquery.*?\.js/.test(manifest[i].id)) {
                        manifest.splice(i, 1);
                        break;
                    }
                }
                return manifest;
            }

            function handleFileLoad(evt, comp) {
                var images = comp.getImages();
                if (evt && (evt.item.type == "image")) {
                    images[evt.item.id] = evt.result;
                }
            }

            function handleComplete(evt, comp) {
                lib = comp.getLibrary();
                var ss = comp.getSpriteSheet();
                var queue = evt.target;
                var ssMetadata = lib.ssMetadata;
                for (i = 0; i < ssMetadata.length; i++) {
                    ss[ssMetadata[i].name] = new createjs.SpriteSheet({
                        "images": [queue.getResult(ssMetadata[i].name)],
                        "frames": ssMetadata[i].frames
                    });
                }
                exportRoot = new lib.index();
                stage = new lib.Stage(canvas);
                createjs.Touch.enable(stage);
                urlData.logo = queue.getResult("logo");

                fnStartAnimation = function () {
                    stage.addChild(exportRoot);
                    createjs.Ticker.framerate = lib.properties.fps;
                    createjs.Ticker.addEventListener("tick", stage);
                }

                AdobeAn.makeResponsive = function (isResp, respDim, isScale, scaleType, domContainers) {
                    var lastW, lastH, lastS = 1;
                    window.addEventListener('resize', resizeCanvas);
                    resizeCanvas();
                    function resizeCanvas() {
                        var w = lib.properties.width, h = lib.properties.height;
                        var iw = window.innerWidth, ih = window.innerHeight;
                        var pRatio = window.devicePixelRatio || 1, xRatio = iw / w, yRatio = ih / h, sRatio = 1;
                        if (isResp) {
                            if ((respDim == 'width' && lastW == iw) || (respDim == 'height' && lastH == ih)) {
                                sRatio = lastS;
                            } else if (!isScale) {
                                if (iw < w || ih < h) sRatio = Math.min(xRatio, yRatio);
                            } else if (scaleType == 1) {
                                sRatio = Math.min(xRatio, yRatio);
                            } else if (scaleType == 2) {
                                sRatio = Math.max(xRatio, yRatio);
                            }
                        }
                        domContainers[0].width = w * pRatio * sRatio;
                        domContainers[0].height = h * pRatio * sRatio;
                        domContainers.forEach(function (container) {
                            container.style.width = w * sRatio + 'px';
                            container.style.height = h * sRatio + 'px';
                        });
                        domContainers[0].getContext("2d").scale(pRatio * sRatio, pRatio * sRatio);
                        stage.scaleX = pRatio * sRatio;
                        stage.scaleY = pRatio * sRatio;
                        lastW = iw; lastH = ih; lastS = sRatio;
                        stage.tickOnUpdate = false;
                        stage.update();
                        stage.tickOnUpdate = true;
                    }
                }

                AdobeAn.makeResponsive(true, 'both', true, 1, [canvas, anim_container, dom_overlay_container]);
                AdobeAn.compositionLoaded(lib.properties.id);
                fnStartAnimation();

                setTimeout(function () {
                    Main(urlData);
                }, 300);

                function createHiPPICanvas(width, height) {
                    const ratio = window.devicePixelRatio;
                    const canvas = document.getElementById("canvas");
                    canvas.width = width * ratio;
                    canvas.height = height * ratio;
                    canvas.style.width = width + "px";
                    canvas.style.height = height + "px";
                    canvas.getContext("2d").scale(ratio, ratio);
                    return canvas;
                }
            }
        </script>

        <script src="/app/html5/random-name-pickers/components/sdk/anwidget.js"></script>
        <script src="/app/html5/random-name-pickers/components/ui/src/textinput.js"></script>
        <script src="/app/html5/random-name-pickers/components/ui/src/textarea.js"></script>
        <script src="/app/html5/random-name-pickers/components/ui/src/div.js"></script>
        <script src="/app/html5/random-name-pickers/components/ui/src/div.js"></script>
        <script src="/app/html5/random-name-pickers/components/ui/src/combobox.js"></script>
        <script src="/app/html5/random-name-pickers/animations/ad.js?v=040625153045"></script>
        <script src="/app/html5/random-name-pickers/animations/bandit.js?v=040625153045"></script>
    </head>

    <body onload="init();" style="margin:0px;">
        <div id="animation_container" style="background-color: rgb(255, 255, 255); width: 1275px; height: 717.357px;">
            <canvas id="canvas" width="1275" height="717" style="position: absolute; display: block; background-color: rgb(255, 255, 255); width: 1275px; height: 717.357px;"></canvas>
            <div id="dom_overlay_container" style="pointer-events: none; overflow: hidden; width: 1275px; height: 717.357px; position: absolute; left: 0px; top: 0px; display: block;"></div>
        </div>

        <div id="loader" style="display: none;">100% loaded</div>
        <img class="spriteHide" id="spriteSheet" src="">
        <img class="spriteHide" id="spriteSheetOriginal" src="">
        <input type="file" accept=".png, .gif, .jpg, .jpeg" id="uploader" multiple="">

        <style>
            canvas {
                -webkit-tap-highlight-color: transparent;
            }
        </style>

        <div id="volume-booster-visusalizer">
            <div class="sound">
                <div class="sound-icon"></div>
                <div class="sound-wave sound-wave_one"></div>
                <div class="sound-wave sound-wave_two"></div>
                <div class="sound-wave sound-wave_three"></div>
            </div>
            <div class="segments-box">
                <div data-range="1-20" class="segment"><span></span></div>
                <div data-range="21-40" class="segment"><span></span></div>
                <div data-range="41-60" class="segment"><span></span></div>
                <div data-range="61-80" class="segment"><span></span></div>
                <div data-range="81-100" class="segment"><span></span></div>
            </div>
        </div>

        <div id="preloadjs-container" style="visibility: hidden; position: absolute; height: 10px; width: 10px; overflow: hidden; transform: translate(-10px, -10px);"></div>
    </body>
</html>
